{% include 'header.html' %}


    
    <title>{{ title }}</title>

    <body class="lg:max-w-[1200px]">
        <style>
            .magicpattern { 
                width: 100%;
                
                background-size: cover;
                background-position: center center;
                background-repeat: repeat;
                background-image: url("data:image/svg+xml;utf8,%3Csvg viewBox=%220 0 2000 1400%22 xmlns=%22http:%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cmask id=%22b%22 x=%220%22 y=%220%22 width=%222000%22 height=%221400%22%3E%3Cpath fill=%22url(%23a)%22 d=%22M0 0h2000v1400H0z%22%2F%3E%3C%2Fmask%3E%3Cpath fill=%22rgba(16%2C24%2C39%2C1)%22 d=%22M0 0h2000v1400H0z%22%2F%3E%3Cg style=%22transform-origin:center center%22 stroke=%22%2337415191%22 stroke-width=%221.8%22 mask=%22url(%23b)%22%3E%3Cpath fill=%22none%22 d=%22M0 0h100v100H0zM100 0h100v100H100zM200 0h100v100H200zM300 0h100v100H300z%22%2F%3E%3Cpath fill=%22%2337415129%22 d=%22M400 0h100v100H400z%22%2F%3E%3Cpath fill=%22none%22 d=%22M500 0h100v100H500z%22%2F%3E%3Cpath fill=%22%2337415155%22 d=%22M600 0h100v100H600z%22%2F%3E%3Cpath fill=%22none%22 d=%22M700 0h100v100H700zM800 0h100v100H800zM900 0h100v100H900zM1000 0h100v100h-100zM1100 0h100v100h-100zM1200 0h100v100h-100zM1300 0h100v100h-100zM1400 0h100v100h-100zM1500 0h100v100h-100zM1600 0h100v100h-100zM1700 0h100v100h-100zM1800 0h100v100h-100z%22%2F%3E%3Cpath fill=%22%233741511a%22 d=%22M1900 0h100v100h-100z%22%2F%3E%3Cpath fill=%22none%22 d=%22M0 100h100v100H0zM100 100h100v100H100z%22%2F%3E%3Cpath fill=%22%233741510f%22 d=%22M200 100h100v100H200z%22%2F%3E%3Cpath fill=%22none%22 d=%22M300 100h100v100H300zM400 100h100v100H400z%22%2F%3E%3Cpath fill=%22%2337415113%22 d=%22M500 100h100v100H500z%22%2F%3E%3Cpath fill=%22%233741510b%22 d=%22M600 100h100v100H600z%22%2F%3E%3Cpath fill=%22none%22 d=%22M700 100h100v100H700z%22%2F%3E%3Cpath fill=%22%2337415184%22 d=%22M800 100h100v100H800z%22%2F%3E%3Cpath fill=%22none%22 d=%22M900 100h100v100H900zM1000 100h100v100h-100z%22%2F%3E%3Cpath fill=%22%2337415133%22 d=%22M1100 100h100v100h-100z%22%2F%3E%3Cpath fill=%22none%22 d=%22M1200 100h100v100h-100zM1300 100h100v100h-100zM1400 100h100v100h-100zM1500 100h100v100h-100zM1600 100h100v100h-100zM1700 100h100v100h-100z%22%2F%3E%3Cpath fill=%22%233741512b%22 d=%22M1800 100h100v100h-100z%22%2F%3E%3Cpath fill=%22none%22 d=%22M1900 100h100v100h-100zM0 200h100v100H0zM100 200h100v100H100zM200 200h100v100H200zM300 200h100v100H300zM400 200h100v100H400zM500 200h100v100H500zM600 200h100v100H600zM700 200h100v100H700z%22%2F%3E%3Cpath fill=%22%2337415165%22 d=%22M800 200h100v100H800z%22%2F%3E%3Cpath fill=%22none%22 d=%22M900 200h100v100H900zM1000 200h100v100h-100z%22%2F%3E%3Cpath fill=%22%2337415152%22 d=%22M1100 200h100v100h-100z%22%2F%3E%3Cpath fill=%22%2337415102%22 d=%22M1200 200h100v100h-100z%22%2F%3E%3Cpath fill=%22none%22 d=%22M1300 200h100v100h-100z%22%2F%3E%3Cpath fill=%22%2337415157%22 d=%22M1400 200h100v100h-100z%22%2F%3E%3Cpath fill=%22none%22 d=%22M1500 200h100v100h-100zM1600 200h100v100h-100zM1700 200h100v100h-100z%22%2F%3E%3Cpath fill=%22%2337415130%22 d=%22M1800 200h100v100h-100z%22%2F%3E%3Cpath fill=%22%2337415143%22 d=%22M1900 200h100v100h-100z%22%2F%3E%3Cpath fill=%22none%22 d=%22M0 300h100v100H0zM100 300h100v100H100zM200 300h100v100H200zM300 300h100v100H300zM400 300h100v100H400zM500 300h100v100H500zM600 300h100v100H600zM700 300h100v100H700zM800 300h100v100H800zM900 300h100v100H900zM1000 300h100v100h-100zM1100 300h100v100h-100z%22%2F%3E%3Cpath fill=%22%233741515f%22 d=%22M1200 300h100v100h-100z%22%2F%3E%3Cpath fill=%22none%22 d=%22M1300 300h100v100h-100zM1400 300h100v100h-100zM1500 300h100v100h-100zM1600 300h100v100h-100zM1700 300h100v100h-100z%22%2F%3E%3Cpath fill=%22%2337415125%22 d=%22M1800 300h100v100h-100z%22%2F%3E%3Cpath fill=%22%2337415165%22 d=%22M1900 300h100v100h-100z%22%2F%3E%3Cpath fill=%22none%22 d=%22M0 400h100v100H0zM100 400h100v100H100z%22%2F%3E%3Cpath fill=%22%2337415159%22 d=%22M200 400h100v100H200z%22%2F%3E%3Cpath fill=%22none%22 d=%22M300 400h100v100H300zM400 400h100v100H400zM500 400h100v100H500z%22%2F%3E%3Cpath fill=%22%2337415147%22 d=%22M600 400h100v100H600z%22%2F%3E%3Cpath fill=%22none%22 d=%22M700 400h100v100H700z%22%2F%3E%3Cpath fill=%22%2337415188%22 d=%22M800 400h100v100H800z%22%2F%3E%3Cpath fill=%22none%22 d=%22M900 400h100v100H900z%22%2F%3E%3Cpath fill=%22%233741512c%22 d=%22M1000 400h100v100h-100z%22%2F%3E%3Cpath fill=%22none%22 d=%22M1100 400h100v100h-100zM1200 400h100v100h-100zM1300 400h100v100h-100z%22%2F%3E%3Cpath fill=%22%233741514d%22 d=%22M1400 400h100v100h-100z%22%2F%3E%3Cpath fill=%22%233741516b%22 d=%22M1500 400h100v100h-100z%22%2F%3E%3Cpath fill=%22%2337415166%22 d=%22M1600 400h100v100h-100z%22%2F%3E%3Cpath fill=%22none%22 d=%22M1700 400h100v100h-100zM1800 400h100v100h-100zM1900 400h100v100h-100zM0 500h100v100H0zM100 500h100v100H100zM200 500h100v100H200zM300 500h100v100H300zM400 500h100v100H400zM500 500h100v100H500zM600 500h100v100H600zM700 500h100v100H700z%22%2F%3E%3Cpath fill=%22%2337415107%22 d=%22M800 500h100v100H800z%22%2F%3E%3Cpath fill=%22none%22 d=%22M900 500h100v100H900zM1000 500h100v100h-100zM1100 500h100v100h-100z%22%2F%3E%3Cpath fill=%22%233741510f%22 d=%22M1200 500h100v100h-100z%22%2F%3E%3Cpath fill=%22none%22 d=%22M1300 500h100v100h-100zM1400 500h100v100h-100zM1500 500h100v100h-100zM1600 500h100v100h-100zM1700 500h100v100h-100zM1800 500h100v100h-100zM1900 500h100v100h-100zM0 600h100v100H0zM100 600h100v100H100zM200 600h100v100H200zM300 600h100v100H300zM400 600h100v100H400zM500 600h100v100H500zM600 600h100v100H600zM700 600h100v100H700zM800 600h100v100H800zM900 600h100v100H900zM1000 600h100v100h-100zM1100 600h100v100h-100zM1200 600h100v100h-100zM1300 600h100v100h-100zM1400 600h100v100h-100zM1500 600h100v100h-100zM1600 600h100v100h-100zM1700 600h100v100h-100zM1800 600h100v100h-100zM1900 600h100v100h-100zM0 700h100v100H0zM100 700h100v100H100zM200 700h100v100H200zM300 700h100v100H300zM400 700h100v100H400zM500 700h100v100H500zM600 700h100v100H600zM700 700h100v100H700zM800 700h100v100H800zM900 700h100v100H900zM1000 700h100v100h-100zM1100 700h100v100h-100zM1200 700h100v100h-100zM1300 700h100v100h-100zM1400 700h100v100h-100zM1500 700h100v100h-100zM1600 700h100v100h-100zM1700 700h100v100h-100zM1800 700h100v100h-100z%22%2F%3E%3Cpath fill=%22%2337415140%22 d=%22M1900 700h100v100h-100z%22%2F%3E%3Cpath fill=%22none%22 d=%22M0 800h100v100H0zM100 800h100v100H100zM200 800h100v100H200z%22%2F%3E%3Cpath fill=%22%233741513c%22 d=%22M300 800h100v100H300z%22%2F%3E%3Cpath fill=%22none%22 d=%22M400 800h100v100H400zM500 800h100v100H500z%22%2F%3E%3Cpath fill=%22%2337415167%22 d=%22M600 800h100v100H600z%22%2F%3E%3Cpath fill=%22none%22 d=%22M700 800h100v100H700zM800 800h100v100H800zM900 800h100v100H900zM1000 800h100v100h-100zM1100 800h100v100h-100zM1200 800h100v100h-100z%22%2F%3E%3Cpath fill=%22%233741517a%22 d=%22M1300 800h100v100h-100z%22%2F%3E%3Cpath fill=%22none%22 d=%22M1400 800h100v100h-100z%22%2F%3E%3Cpath fill=%22%2337415160%22 d=%22M1500 800h100v100h-100z%22%2F%3E%3Cpath fill=%22none%22 d=%22M1600 800h100v100h-100zM1700 800h100v100h-100zM1800 800h100v100h-100zM1900 800h100v100h-100zM0 900h100v100H0zM100 900h100v100H100zM200 900h100v100H200z%22%2F%3E%3Cpath fill=%22%2337415106%22 d=%22M300 900h100v100H300z%22%2F%3E%3Cpath fill=%22%2337415190%22 d=%22M400 900h100v100H400z%22%2F%3E%3Cpath fill=%22%2337415186%22 d=%22M500 900h100v100H500z%22%2F%3E%3Cpath fill=%22%2337415134%22 d=%22M600 900h100v100H600z%22%2F%3E%3Cpath fill=%22none%22 d=%22M700 900h100v100H700z%22%2F%3E%3Cpath fill=%22%233741510c%22 d=%22M800 900h100v100H800z%22%2F%3E%3Cpath fill=%22none%22 d=%22M900 900h100v100H900zM1000 900h100v100h-100z%22%2F%3E%3Cpath fill=%22%2337415161%22 d=%22M1100 900h100v100h-100z%22%2F%3E%3Cpath fill=%22%2337415171%22 d=%22M1200 900h100v100h-100z%22%2F%3E%3Cpath fill=%22%233741513c%22 d=%22M1300 900h100v100h-100z%22%2F%3E%3Cpath fill=%22%233741514e%22 d=%22M1400 900h100v100h-100z%22%2F%3E%3Cpath fill=%22%233741510f%22 d=%22M1500 900h100v100h-100z%22%2F%3E%3Cpath fill=%22none%22 d=%22M1600 900h100v100h-100z%22%2F%3E%3Cpath fill=%22%233741516a%22 d=%22M1700 900h100v100h-100z%22%2F%3E%3Cpath fill=%22none%22 d=%22M1800 900h100v100h-100zM1900 900h100v100h-100z%22%2F%3E%3Cpath fill=%22%2337415132%22 d=%22M0 1000h100v100H0z%22%2F%3E%3Cpath fill=%22none%22 d=%22M100 1000h100v100H100zM200 1000h100v100H200zM300 1000h100v100H300z%22%2F%3E%3Cpath fill=%22%233741514e%22 d=%22M400 1000h100v100H400z%22%2F%3E%3Cpath fill=%22none%22 d=%22M500 1000h100v100H500zM600 1000h100v100H600zM700 1000h100v100H700z%22%2F%3E%3Cpath fill=%22%233741513c%22 d=%22M800 1000h100v100H800z%22%2F%3E%3Cpath fill=%22%2337415169%22 d=%22M900 1000h100v100H900z%22%2F%3E%3Cpath fill=%22none%22 d=%22M1000 1000h100v100h-100zM1100 1000h100v100h-100zM1200 1000h100v100h-100zM1300 1000h100v100h-100z%22%2F%3E%3Cpath fill=%22%233741516d%22 d=%22M1400 1000h100v100h-100z%22%2F%3E%3Cpath fill=%22none%22 d=%22M1500 1000h100v100h-100zM1600 1000h100v100h-100z%22%2F%3E%3Cpath fill=%22%2337415151%22 d=%22M1700 1000h100v100h-100z%22%2F%3E%3Cpath fill=%22none%22 d=%22M1800 1000h100v100h-100zM1900 1000h100v100h-100zM0 1100h100v100H0zM100 1100h100v100H100z%22%2F%3E%3Cpath fill=%22%2337415166%22 d=%22M200 1100h100v100H200z%22%2F%3E%3Cpath fill=%22%2337415187%22 d=%22M300 1100h100v100H300z%22%2F%3E%3Cpath fill=%22%233741512e%22 d=%22M400 1100h100v100H400z%22%2F%3E%3Cpath fill=%22%2337415115%22 d=%22M500 1100h100v100H500z%22%2F%3E%3Cpath fill=%22none%22 d=%22M600 1100h100v100H600zM700 1100h100v100H700z%22%2F%3E%3Cpath fill=%22%2337415150%22 d=%22M800 1100h100v100H800z%22%2F%3E%3Cpath fill=%22none%22 d=%22M900 1100h100v100H900z%22%2F%3E%3Cpath fill=%22%233741515e%22 d=%22M1000 1100h100v100h-100z%22%2F%3E%3Cpath fill=%22%233741510a%22 d=%22M1100 1100h100v100h-100z%22%2F%3E%3Cpath fill=%22none%22 d=%22M1200 1100h100v100h-100zM1300 1100h100v100h-100zM1400 1100h100v100h-100zM1500 1100h100v100h-100z%22%2F%3E%3Cpath fill=%22%233741512d%22 d=%22M1600 1100h100v100h-100z%22%2F%3E%3Cpath fill=%22none%22 d=%22M1700 1100h100v100h-100zM1800 1100h100v100h-100zM1900 1100h100v100h-100z%22%2F%3E%3Cpath fill=%22%2337415136%22 d=%22M0 1200h100v100H0z%22%2F%3E%3Cpath fill=%22%2337415132%22 d=%22M100 1200h100v100H100z%22%2F%3E%3Cpath fill=%22none%22 d=%22M200 1200h100v100H200z%22%2F%3E%3Cpath fill=%22%2337415132%22 d=%22M300 1200h100v100H300z%22%2F%3E%3Cpath fill=%22%2337415152%22 d=%22M400 1200h100v100H400z%22%2F%3E%3Cpath fill=%22none%22 d=%22M500 1200h100v100H500zM600 1200h100v100H600zM700 1200h100v100H700z%22%2F%3E%3Cpath fill=%22%2337415136%22 d=%22M800 1200h100v100H800z%22%2F%3E%3Cpath fill=%22%2337415147%22 d=%22M900 1200h100v100H900z%22%2F%3E%3Cpath fill=%22none%22 d=%22M1000 1200h100v100h-100zM1100 1200h100v100h-100z%22%2F%3E%3Cpath fill=%22%2337415179%22 d=%22M1200 1200h100v100h-100z%22%2F%3E%3Cpath fill=%22%2337415142%22 d=%22M1300 1200h100v100h-100z%22%2F%3E%3Cpath fill=%22%233741512c%22 d=%22M1400 1200h100v100h-100z%22%2F%3E%3Cpath fill=%22%2337415176%22 d=%22M1500 1200h100v100h-100z%22%2F%3E%3Cpath fill=%22none%22 d=%22M1600 1200h100v100h-100zM1700 1200h100v100h-100zM1800 1200h100v100h-100zM1900 1200h100v100h-100zM0 1300h100v100H0zM100 1300h100v100H100zM200 1300h100v100H200zM300 1300h100v100H300z%22%2F%3E%3Cpath fill=%22%2337415166%22 d=%22M400 1300h100v100H400z%22%2F%3E%3Cpath fill=%22none%22 d=%22M500 1300h100v100H500z%22%2F%3E%3Cpath fill=%22%2337415123%22 d=%22M600 1300h100v100H600z%22%2F%3E%3Cpath fill=%22%233741514c%22 d=%22M700 1300h100v100H700z%22%2F%3E%3Cpath fill=%22none%22 d=%22M800 1300h100v100H800z%22%2F%3E%3Cpath fill=%22%233741517c%22 d=%22M900 1300h100v100H900z%22%2F%3E%3Cpath fill=%22none%22 d=%22M1000 1300h100v100h-100zM1100 1300h100v100h-100zM1200 1300h100v100h-100zM1300 1300h100v100h-100zM1400 1300h100v100h-100zM1500 1300h100v100h-100zM1600 1300h100v100h-100zM1700 1300h100v100h-100zM1800 1300h100v100h-100zM1900 1300h100v100h-100z%22%2F%3E%3C%2Fg%3E%3Cdefs%3E%3CradialGradient id=%22a%22%3E%3Cstop offset=%220%22 stop-color=%22%23fff%22%2F%3E%3Cstop offset=%221%22 stop-color=%22%23fff%22 stop-opacity=%220%22%2F%3E%3C%2FradialGradient%3E%3C%2Fdefs%3E%3C%2Fsvg%3E");
              }
              
              
        </style>
        <div class="custom-font">
            <div class="flex py-5 align-middle items-center w-full justify-center place-items-center">
                <h1 id="title" class="card-title align-middle  text-white text-xl font-bold px-5">#{{ title }}</h1>
            </div>
        </div>   
    
        <div class="flex flex-col lg:grid lg:grid-cols-2 lg:py-5  gap-2 ">
            <div class=" lg:mx-auto bg-gray-800 rounded-xl border border-[#787A91] border-opacity-50 shadow-md overflow-hidden md:max-w-2xl  text-white lg:w-full mx-4 ">
                <div class="flex flex-col md:flex-row text-2xs md:text-sm w-full md:h-full">
                    <div class="align-baseline p-2 lg:p-8 border-b md:border-b-0 md:border-r border-gray-500 text-center md:text-left display-font ">
                        <div class="text-base text-sm font-medium text-gray-400  ">
                            First appeared on
                        </div>
                        <div class="md:text-2xl font-bold text-[#ff4560]">
                            {{ first_appeared_date|date:"F d, Y" }}
                        </div>
                    </div>
                    
                    <div class="p-8 w-full mx-auto flex flex-col place-items-center ">
                        <img src="{{ last_video_thumbnail_url }}" alt="Last Video Thumbnail" class="object-cover h-36 w-96 rounded-lg">
    
                        <h2 class="mt-1 text-base md:text-lg leading-tight font-medium text-white">{{ title }}</h2>
                        <p class="text-[11px] mt-2 text-gray-400">{{ synopsis }}</p>
                    </div>
                </div>
            </div>
    
            <div class="rounded-xl w-full h-auto   lg:px-6 text-white lg:border lg:border-[#787A91] lg:border-opacity-50 ">
                <div class="p-4 md:p-2 mt-auto">
                    <h2 class="text-[#FF4560]  flex flex-row justify-center font-bold mb-4 px-4 py-2 ">Top Channels Covering "{{ title }}" <button id="trendingTopics" class="text-white shadow-lg rounded-full focus:outline-none">
                        <i class="fas fa-info-circle fa-xs text-[#ff4560] p-1"></i>
                    </button></h2>
                    <p class="text-sm md:text-base leading-6 text-gray-400 mb-2 ">Total videos for this topic: {{ topic_count }}</p>
                    <ul class="space-y-2 md:space-y-4">
                        {% for channel in top_channels %}
                            {% if channel.video_count > 0 %}
                                {% with rank=forloop.counter %}
                                    <li class="flex items-center">
                                        <div class="flex-shrink-0">
                                            <span class="inline-block h-6 w-6 md:h-8 md:w-8 rounded-full overflow-hidden bg-gray-700 text-white text-sm font-medium text-center lg:py-2">{{ rank }}</span>
                                        </div>
                                        <div class="flex items-center ml-2 md:ml-4">
                                            <img class="h-6 w-6 md:h-10 md:w-10 rounded-full" src="{{ channel.logo.url }}" alt="{{ channel.name }} logo">
                                            <a href="{% url 'channel_name' slug=channel.slug %}" class="ml-2 text-xs md:text-sm leading-6 font-medium text-white underline hover:text-blue-500">{{ channel.name }}</a>
                                        </div>
                                        <div class="ml-auto text-sm md:text-base leading-6 text-gray-400">{{ channel.video_count }}</div>
                                    </li>
                                {% endwith %}
                            {% endif %}
                        {% endfor %}
                        
                    </ul>
                    
                </div>
            </div>
        </div>
        
            <div class=" rounded-xl shadow-md m-4">
            <h2 class="text-[#FF4560]  flex flex-row justify-center font-bold mb-4 px-4 py-2  ">"{{ title }}" Popularity Over Week <button id="trendingTopics" class="text-white shadow-lg rounded-full focus:outline-none">
                <i class="fas fa-info-circle fa-xs text-[#ff4560] p-1"></i>
            </button></h2>
            <div id="chart" class="w-full  "></div>
            </div>
            <div class=" fact-check-section bg-gray-800 rounded-xl shadow-md overflow-hidden border border-[#787A91] border-opacity-50  m-4 text-white lg:w-full mx-4">
                <h2 class="text-[#FF4560]  flex flex-row justify-center font-bold mb-4 px-4 py-2 "> Recent Fact Check <button id="trendingTopics" class="text-white shadow-lg rounded-full focus:outline-none">
                    <i class="fas fa-info-circle fa-xs text-[#ff4560] p-1"></i>
                </button></h2>
                <ul class="fact-check-list text-xs p-4">
                    <!-- Fact checks will be inserted here by JavaScript -->
                    
                </ul>
                <button class=" flex justify-center ">
                    <a href="/fact-check/?search_term={{ title }}" class="text-white text-xs p-4">View All Fact Checks</a>
                </button>
            </div>
    
    <script>
        // Fetch fact checks using AJAX
        var xhr = new XMLHttpRequest();
        xhr.open('GET', '/fact-check-view/?search_term={{ title }}', true);
        xhr.onload = function() {
            if (this.status >= 200 && this.status < 400) {
                // Success!
                var data = JSON.parse(this.response);
                var factChecks = data.fact_checks;
                var factCheckList = document.querySelector('.fact-check-list');
    
                if (factChecks.length === 0) {
                    var noFactCheckMessage = document.createElement('p');
                    noFactCheckMessage.textContent = 'No enough fact checks available on this topic.';
                    factCheckList.appendChild(noFactCheckMessage);
                } else {
                    factChecks.forEach(function(factCheck) {
                        fetch(factCheck.claimReview[0].url)
                            .then(response => response.text())
                            .then(html => {
                                const parser = new DOMParser();
                                const htmlDoc = parser.parseFromString(html, "text/html");
                                const ogImage = htmlDoc.querySelector('meta[property="og:image"]');
                                let imageUrl;
                                if (ogImage) {
                                    imageUrl = ogImage.getAttribute("content");
                                } else {
                                    imageUrl = 'https://www.sciencespo.fr/research/cogito/wp-content/uploads/2019/03/shutterstock_1036271818-300x300.jpg';
                                }
                                
                                var listItem = document.createElement('li');
                                listItem.className = 'fact-check-item rounded-lg shadow-md  mb-2 flex flex-col lg:flex-row';
                                
                                var imageElement = document.createElement('img');
                                imageElement.src = imageUrl;
                                imageElement.className = 'w-96 object-cover rounded-lg flex-grow-0 flex-shrink-0 justify-center lg:w-[20%]  lg:mr-4 h-28 rounded-lg';
                                imageElement.alt = factCheck.claimReview[0].publisher.site;
                                
                                var textDiv = document.createElement('div');
                                textDiv.className = 'flex flex-col flex-grow';
                                
                                var title = document.createElement('h3');
                                title.className = 'text-sm font-semibold my-2 hover:text-[#FF4560]';
                                var titleLink = document.createElement('a');
                                titleLink.href = factCheck.claimReview[0].url;
                                titleLink.textContent = factCheck.text;
                                title.appendChild(titleLink);
                                
                                var claimDate = document.createElement('p');
                                claimDate.className = 'text-gray-300 text-xs mb-2 ';
                                claimDate.textContent = 'Claim Date: ' + factCheck.claimDate.slice(0, 10);
                                
                                var claimant = document.createElement('p');
                                claimant.className = 'text-xs lg:text-[10px] mb-2 ';
                                claimant.textContent = 'Claimant: ' + factCheck.claimant;
                                
                                var rating = document.createElement('p');
                                rating.className = 'text-xs lg:text-sm display-font mb-2';
                                rating.innerHTML = '<strong>Rating:</strong> ' + factCheck.claimReview[0].textualRating;
                                
                                textDiv.appendChild(title);
                                textDiv.appendChild(claimDate);
                                textDiv.appendChild(claimant);
                                textDiv.appendChild(rating);
                                
                                listItem.appendChild(imageElement);
                                listItem.appendChild(textDiv);
                                
                                factCheckList.appendChild(listItem);
                                
                            })
                            .catch(error => console.error('Error:', error));
                    });
                }
            } else {
                // We reached our target server, but it returned an error
                console.error('Server returned an error');
            }
        };
        xhr.onerror = function() {
            // There was a connection error of some sort
            console.error('Connection error');
        };
        xhr.send();
    </script>
    
    
    
    
        <script>
            var options = {
                chart: {
                    type: 'area',
                    foreColor: '#ffffff',
                    zoom: {
                        enabled: false
                    },
                    toolbar: {
                        show: false
                    },
                    theme: {
                        mode: 'dark',
                    },
                    height: 350,
                },
               
                dataLabels: {
                    enabled: false
                },
                stroke: {
                    curve: 'smooth',
                    width: 2,
                },
                series: [{
                    name: 'Topic Popularity',
                    data: {{ daily_counts_json | safe }} // Django will replace the placeholder with actual data
                }],
                xaxis: {
                    categories: {{ day_labels | safe }}, // Django will replace with actual data
                    labels: {
                        style: {
                            colors: '#f9fafb'
                        }
                    }
                },
                yaxis: {
                    
                    labels: {
                        style: {
                            colors: '#f9fafb'
                        }
                    }
                },
                grid: {
                    borderColor: '#4A5568'
                },
                fill: {
                    type: 'gradient',
                    gradient: {
                        shadeIntensity: 1,
                        opacityFrom: 0.7,
                        opacityTo: 0.5,
                        stops: [0, 90, 100]
                    }
                },
            }

            var chart = new ApexCharts(document.querySelector("#chart"), options);

            chart.render();
        </script>
    </div>
</div></div></div>
</body>
</html>
{% include 'footer.html' %}